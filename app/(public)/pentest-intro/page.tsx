import { LeadForm } from '@/components/LeadForm';
import { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'Pentest Vendor Introduction | Risclens',
  description: 'Sanity-check your pentest scope and connect with vetted providers who match your technical needs.',
  robots: {
    index: true,
    follow: true,
  },
};

export default function PentestIntroPage() {
  return (
    <div className="container-narrow py-16">
      <LeadForm
        title="Request Pentest Vendor Introduction"
        description="Teams often overpay or test the wrong surface. We can sanity-check your scope and connect you to a vetted provider from our network."
        ctaLabel="Get Introductions"
        successMessage="Thanks! We've received your request. We'll reach out shortly to clarify scope and provide introductions to the best-fit vendors."
        endpoint="/api/lead/submit"
        analyticsEvent="pentest_intro"
        pdfTemplate="pentest_sow"
        disclaimer="No obligation. We don't sell pentests ourselves and don't take commissions from vendors."
        fields={[
          { name: 'name', label: 'Full Name', type: 'text', required: true, placeholder: 'Jane Doe' },
          { name: 'email', label: 'Work Email', type: 'email', required: true, placeholder: 'jane@company.com' },
          { name: 'company', label: 'Company Name', type: 'text', required: true, placeholder: 'Acme Inc.' },
          {
            name: 'target_date',
            label: 'Desired Test Date',
            type: 'date',
            required: true,
          },
          {
            name: 'scope_type',
            label: 'Scope Type',
            type: 'select',
            required: true,
            options: [
              { value: 'web', label: 'Web Application' },
              { value: 'api', label: 'API / Mobile' },
              { value: 'cloud', label: 'Cloud / Infrastructure' },
              { value: 'external', label: 'External Network' },
              { value: 'internal', label: 'Internal Network' },
            ],
          },
          {
            name: 'complexity',
            label: 'Rough Complexity',
            type: 'select',
            required: true,
            options: [
              { value: 'small', label: 'Small (Single app, < 10 endpoints)' },
              { value: 'medium', label: 'Medium (Core platform, standard API)' },
              { value: 'large', label: 'Large (Complex enterprise env)' },
            ],
          },
          { name: 'notes', label: 'Additional Notes / Context', type: 'textarea', required: false, placeholder: 'e.g. Need this for SOC 2 or a customer contract...' },
          { name: 'lead_type', label: '', type: 'text', required: false },
        ]}
        initialData={{ lead_type: 'pentest_vendor_intro' }}
        postSubmitNode={
          <div className="mt-8 bg-slate-50 border border-slate-200 rounded-lg p-6 text-left">
            <h4 className="font-bold text-slate-900 mb-2 flex items-center gap-2">
              <span className="flex h-6 w-6 items-center justify-center rounded-full bg-slate-200 text-slate-700 text-xs">TIP</span>
              While you wait...
            </h4>
            <p className="text-sm text-slate-600 mb-4">
              If you're getting a pentest for SOC 2, make sure your broader compliance program is on track.
            </p>
            <a 
              href="/soc-2-readiness-checklist"
              className="inline-flex items-center justify-center w-full px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-md font-semibold hover:bg-slate-50 transition-colors shadow-sm"
            >
              Get the SOC 2 Readiness Checklist â†’
            </a>
          </div>
        }
      />
    </div>
  );
}
